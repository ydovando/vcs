(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,a){e.exports=a(394)},231:function(e,t,a){},232:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),c=a(17),l=a.n(c),u=(a(231),a(232),a(162)),s=a(41),d=a(34),h=a(35),m=a(38),g=a(36),p=a(37),f=a(56),E=a(86),D=a.n(E),b=a(87),C=a.n(b),y=a(31),S=a.n(y),T=a(160),v=a.n(T),O=a(40),k=a.n(O),R=a(18),A=a.n(R),w=a(30),j=a.n(w),_=a(117),U=a.n(_),M=a(50),I=a(26),L=a(121);!function(e){e.UPDATE_CURRENT_SOURCE_DIRECTORY="UPDATE_CURRENT_SOURCE_DIRECTORY",e.UPDATE_CURRENT_TARGET_DIRECTORY="UPDATE_CURRENT_TARGET_DIRECTORY"}(n||(n={})),function(e){e.UPDATE_MANIFESTS="UPDATE_MANIFESTS"}(r||(r={}));var N,P=a(92),x=a.n(P),F=x.a.create({baseURL:"http://localhost:3000/",timeout:1e4}),G=function(){return function(e,t){F.post("/get/manifests",{sourceDirectory:t().directoriesState.currentSourceDirectory}).then(function(a){200===a.status?e({type:r.UPDATE_MANIFESTS,manifests:a.data}):e({type:r.UPDATE_MANIFESTS,manifests:t()})}).catch(function(e){console.log(e)})}},Y=function(){return function(e,t){F.post("/commit",{sourceDirectory:t().directoriesState.currentSourceDirectory}).then(function(a){200===a.status&&G()(e,t)}).catch(function(e){console.log(e)})}},W=a(19),B=a(159),z=a.n(B),J=a(84),K=a.n(J),V=a(23),$=a.n(V),q=a(68),H=a.n(q),Q=a(67),X=a.n(Q),Z=a(51),ee=a.n(Z),te=a(55),ae=a.n(te),ne=a(52),re=a.n(ne),oe=a(53),ie=a.n(oe),ce=a(85),le=a.n(ce),ue=a(54),se=a.n(ue),de=a(32),he=a.n(de),me=a(66),ge=a.n(me),pe=a(69),fe=a.n(pe),Ee=a(65),De=a.n(Ee),be=a(70),Ce=a.n(be),ye=a(83),Se=a.n(ye);!function(e){e.UPDATE_MERGEDATA="UPDATE_MERGEDATA"}(N||(N={}));var Te=x.a.create({baseURL:"http://localhost:3000/",timeout:1e4}),ve=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).openModal=function(){a.setState({modalOpen:!0})},a.closeModal=function(){a.setState({modalOpen:!1}),a.props.clearMergeData()},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleClickOpenTargetDirDialog=function(){a.setState({openTargetDirDialog:!0})},a.handleCloseTargetDirDialog=function(){a.setState({openTargetDirDialog:!1})},a.handleMergeSelectChange=function(e){a.props.mergeDataState[e.target.name].choice=e.target.value,console.log(a.props.mergeDataState)},a.state={open:!1,modalOpen:!1,anchoreEl:null,openTargetDirDialog:!1,action:"",targetDir:"",mergeDate:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.anchorEl,n=Boolean(a),r=this.props.mergeDataState.map(function(a,n){var r=a.source;if(r){var o=r.includes("/")?r.substring(0,r.lastIndexOf("/")):r.substring(0,r.lastIndexOf("\\"));return i.a.createElement("li",{key:n},i.a.createElement(De.a,{className:t.formControl},i.a.createElement(ge.a,null,"MergeType: ",a.mergeType," - ",o),i.a.createElement(Se.a,{name:n,className:t.group,value:a.choice,onChange:e.handleMergeSelectChange},i.a.createElement(fe.a,{value:"Source",disabled:"Target"===a.choice,control:i.a.createElement(Ce.a,null),label:"Source"}),i.a.createElement(fe.a,{value:"Target",disabled:"Source"===a.choice,control:i.a.createElement(Ce.a,null),label:"Target"}))))}});return i.a.createElement("div",null,i.a.createElement(K.a,{color:"secondary",className:t.fab,onClick:this.handleClick},i.a.createElement(z.a,null)),i.a.createElement(X.a,{id:"simple-popper",open:n,anchorEl:a,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},i.a.createElement("div",null,i.a.createElement(H.a,null,i.a.createElement($.a,{onClick:this.props.commit},"Commit"),i.a.createElement($.a,{onClick:function(){e.setState({action:"Checkin"}),e.handleClickOpenTargetDirDialog()}},"CheckIn"),i.a.createElement($.a,{onClick:function(){e.setState({action:"Checkout"}),e.handleClickOpenTargetDirDialog()}},"CheckOut"),i.a.createElement($.a,{onClick:function(){e.setState({action:"Merge"}),e.handleClickOpenTargetDirDialog()}},"Merge"))),i.a.createElement(ee.a,{open:this.state.openTargetDirDialog,onClose:this.handleCloseTargetDirDialog,"aria-labelledby":"form-dialog-title"},i.a.createElement(le.a,{id:"form-dialog-title"},this.state.action),i.a.createElement(re.a,null,i.a.createElement(ie.a,null,"Please enter a target directory to:"),i.a.createElement(se.a,{autoFocus:!0,margin:"dense",id:"name",label:"Target Directory",type:"text",fullWidth:!0,onChange:function(t){e.setState({targetDir:t.target.value})}})),i.a.createElement(ae.a,null,i.a.createElement($.a,{onClick:this.handleCloseTargetDirDialog,color:"primary"},"Cancel"),i.a.createElement($.a,{color:"primary",onClick:function(t){switch(e.props.updateCurrentTargetDirectory(e.state.targetDir),e.state.action){case"Checkin":e.props.checkin();break;case"Checkout":e.props.checkout();break;case"Merge":e.props.mergeout(),e.openModal()}e.handleCloseTargetDirDialog()}},this.state.action)))),i.a.createElement(he.a,{open:this.state.modalOpen,onClose:this.closeModal},i.a.createElement("div",{className:t.modal},i.a.createElement("ul",{className:t.ul},r),i.a.createElement($.a,{onClick:function(){e.props.mergein(),e.closeModal()}},"Merge"))))}}]),t}(i.a.Component),Oe=Object(I.b)(function(e){return{manifestState:e.manifestsState,mergeDataState:e.mergeDataState}},{commit:Y,checkin:function(){return function(e,t){F.post("/checkin",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory}).then(function(a){200===a.status&&G()(e,t)}).catch(function(e){console.log(e)})}},checkout:function(){return function(e,t){F.post("/checkout",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory}).then(function(a){200===a.status&&G()(e,t)}).catch(function(e){console.log(e)})}},mergein:function(){return function(e,t){Te.post("/mergein",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory,mergeData:t().mergeDataState}).then(function(a){200===a.status&&(e({type:N.UPDATE_MERGEDATA,mergeData:[]}),G()(e,t))}).catch(function(e){console.log(e)})}},mergeout:function(){return function(e,t){Te.post("/mergeout",{sourceDirectory:t().directoriesState.currentSourceDirectory,targetDirectory:t().directoriesState.currentTargetDirectory}).then(function(t){console.log(t),200===t.status&&(console.log(t.data),e({type:N.UPDATE_MERGEDATA,mergeData:t.data}))}).catch(function(e){console.log(e)})}},updateCurrentTargetDirectory:function(e){return function(t,a){var r=a().directoriesState;t({type:n.UPDATE_CURRENT_TARGET_DIRECTORY,payload:{currentTargetDirectory:e,pastTargetDirectories:[].concat(Object(L.a)(r.pastTargetDirectories),[r.currentTargetDirectory]).filter(function(e,t,a){if(e.length>0&&a.indexOf(e)===t)return e})}})}},clearMergeData:function(){return function(e,t){e({type:N.UPDATE_MERGEDATA,mergeData:[]})}}})(Object(W.withStyles)(function(e){return{fab:{margin:e.spacing.unit,positions:"relative",bottom:e.spacing.unit,right:5*e.spacing.unit},paper:{position:"-webkit-sticky",width:50*e.spacing.unit,padding:4*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],outline:"none"},modal:{position:"absolute",outline:"none",top:"50%",left:"50%",height:"80vh",width:"80vw",transform:"translate(-50%,-50%)",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5]},ul:{listStyle:"none"},formControl:{margin:3*e.spacing.unit}}})(ve)),ke={flexGrow:1},Re={paddingTop:A.a.unit,paddingRight:A.a.unit,paddingBottom:A.a.unit,paddingLeft:7*A.a.unit,transition:j.a.create("width"),width:50*A.a.unit},Ae={position:"relative",borderRadius:U.a.borderRadius,marginRight:2*A.a.unit,marginLeft:20*A.a.unit,width:59*A.a.unit,backgroundColor:Object(M.fade)("#ffffff",.15)},we={width:9*A.a.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},je={paddingTop:2*A.a.unit,marginLeft:5*A.a.unit},_e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).state={delayFunction:null,textField:""},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){var t=this;clearTimeout(this.state.delayFunction),this.setState({textField:e.target.value,delayFunction:setTimeout(function(){t.props.updateCurrentSourceDirectory(t.state.textField)},500)})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:ke},i.a.createElement(D.a,{position:"static",color:"primary"},i.a.createElement(C.a,null,i.a.createElement("div",null,i.a.createElement(S.a,{variant:"h6",color:"inherit",noWrap:!0},"Version Control System")),i.a.createElement("div",{style:Ae},i.a.createElement("div",{style:we},i.a.createElement(v.a,null)),i.a.createElement(k.a,{placeholder:"Enter your directory",style:Re,onChange:function(t){e.handleChange(t)}})),i.a.createElement("div",{style:je},i.a.createElement(Oe,null)))))}}]),t}(i.a.Component),Ue=Object(I.b)(function(e){return{directoriesState:e.directoriesState}},{updateCurrentSourceDirectory:function(e){return function(t,a){var r=a().directoriesState;e.length>0&&(t({type:n.UPDATE_CURRENT_SOURCE_DIRECTORY,payload:{currentSourceDirectory:e,pastSourceDirectories:[].concat(Object(L.a)(r.pastSourceDirectories),[r.currentSourceDirectory]).filter(function(e,t,a){if(e.length>0&&a.indexOf(e)===t)return e})}}),G()(t,a))}}})(_e),Me=a(58),Ie=a.n(Me),Le=a(27),Ne=a(90),Pe=a.n(Ne),xe=a(89),Fe=a.n(xe),Ge=a(57),Ye=a.n(Ge),We=a(88),Be=a.n(We),ze=a(118),Je=a.n(ze),Ke=a(119),Ve=a.n(Ke),$e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(g.a)(t).call(this,e))).showArtifacts=function(){var e=a.state.artifacts;return i.a.createElement("div",{className:a.props.classes.list},i.a.createElement(Le.c,null,e.map(function(e,t){var n=e.split(".psa");return i.a.createElement("div",null,i.a.createElement(Ye.a,{key:a.hashCode(e)},i.a.createElement(Be.a,null,i.a.createElement(Je.a,null)),i.a.createElement(Ie.a,{primary:".."+n[1],secondary:"Path: "+e})),i.a.createElement(Fe.a,null))})))},a.handleCloseLabelDialog=function(){a.setState({openLabelDialog:!1})},a.handleOpenLabelDialog=function(){a.setState({openLabelDialog:!0})},a.state={artifacts:[],right:!1,openLabelDialog:!1,anchorEl:null,newLabel:null,elementId:""},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.manifestState,a=this.props.classes,n=t.map(function(t){if(null===t.tag)return i.a.createElement(Ye.a,{button:!0,key:e.hashCode(t.id),onClick:function(){e.setState({artifacts:void 0!==t.values?t.values:[],right:!0})}},i.a.createElement(Ie.a,null,t.id),i.a.createElement(Le.d,null,i.a.createElement(Le.b,{onClick:function(){e.setState({elementId:t.id}),e.handleOpenLabelDialog()}},i.a.createElement(Ve.a,null))));var a=t.tag.length;return i.a.createElement(Ye.a,{button:!0,key:e.hashCode(t.id),onClick:function(){e.setState({artifacts:void 0!==t.values?t.values:[],right:!0})}},i.a.createElement(Ie.a,null,t.tag[a-1]),i.a.createElement(Le.d,null,i.a.createElement(Le.b,{onClick:function(){e.setState({elementId:t.id}),e.handleOpenLabelDialog()}},i.a.createElement(Ve.a,null))))});return i.a.createElement("div",null,i.a.createElement(Le.c,{className:a.root},n),i.a.createElement(Pe.a,{anchor:"right",open:this.state.right,onClose:function(){return e.setState({right:!1})},onOpen:function(){return e.setState({right:!0})}},i.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){return e.setState({right:!1})},onKeyDown:function(){return e.setState({right:!0})}},this.showArtifacts())),i.a.createElement(ee.a,{open:this.state.openLabelDialog,onClose:this.handleCloseLabelDialog,"aria-labelledby":"form-dialog-title"},i.a.createElement(re.a,null,i.a.createElement(ie.a,null,i.a.createElement(se.a,{onChange:function(t){e.setState({newLabel:t.target.value})},autoFocus:!0,margin:"dense",id:"name",label:"Enter New Label",type:"text",fullWidth:!0}))),i.a.createElement(ae.a,null,i.a.createElement(Le.a,{onClick:this.handleCloseLabelDialog,color:"secondary"},"Cancel"),i.a.createElement(Le.a,{onClick:function(){e.props.updateLabel(e.state.elementId,e.state.newLabel),e.handleCloseLabelDialog()},color:"primary"},"Rename"))))}},{key:"hashCode",value:function(e){for(var t=0,a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return t}}]),t}(i.a.Component),qe=Object(I.b)(function(e){return{manifestState:e.manifestsState}},{updateLabel:function(e,t){return function(a,n){F.post("/update",{sourceDirectory:n().directoriesState.currentSourceDirectory,id:e,field:"tag",value:t}).then(function(e){200===e.status&&G()(a,n)}).catch(function(e){console.log(e)})}}})(Object(W.withStyles)(function(e){return{root:{width:"100%",maxWidth:240,backgroundColor:e.palette.background.paper},list:{width:75*A.a.unit},fullList:{width:"auto"},divStyle:{display:"inline"}}})($e)),He=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Ue,null),i.a.createElement(qe,null))}}]),t}(i.a.Component),Qe=Object(I.b)(function(e){return{manifests:e.manifestsState}},{getAllManifests:G,commit:Y})(He),Xe=a(161),Ze=a(42),et=[],tt=[],at=a(122),nt={currentSourceDirectory:"",pastSourceDirectories:[],currentTargetDirectory:"",pastTargetDirectories:[]},rt=Object(Ze.c)({manifestsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPDATE_MANIFESTS:return t.manifests;default:return e}},mergeDataState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.UPDATE_MERGEDATA:return t.mergeData;default:return e}},directoriesState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.UPDATE_CURRENT_SOURCE_DIRECTORY:case n.UPDATE_CURRENT_TARGET_DIRECTORY:return Object(at.a)({},e,t.payload);default:return e}}}),ot=[Xe.a],it=Object(Ze.e)(rt,Object(Ze.d)(Ze.a.apply(void 0,ot))),ct=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(I.a,{store:it},i.a.createElement(u.a,null,i.a.createElement(s.c,null,i.a.createElement(s.a,{path:"/",exact:!0,component:Qe})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[226,1,2]]]);
//# sourceMappingURL=main.5616c614.chunk.js.map